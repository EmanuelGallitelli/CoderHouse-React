{"ast":null,"code":"import _slicedToArray from\"/home/german/Documentos/CODERHOUSE/React/preEntrega2Soto/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext}from\"react\";import{useState}from'react';import Notiflix from'notiflix';import{getFirestore,collection,addDoc}from'firebase/firestore';import CartContext from\"../Context/CartContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function InputModal(_ref){var cart=_ref.cart,valorTotal=_ref.valorTotal;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showModal=_useState2[0],setShowModal=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),phone=_useState6[0],setPhone=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),mail=_useState8[0],setMail=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),mailConfirmacion=_useState10[0],setMailConfirmacion=_useState10[1];var _useContext=useContext(CartContext),clear=_useContext.clear;function handleSubmit(event){event.preventDefault();var date=new Date();var order={buyer:{\"nombre\":name,\"telefono\":phone,\"mail\":mail},\"items\":cart,\"Valor Total\":valorTotal,\"Fecha\":date};console.log(order);var db=getFirestore();var ordersCollection=collection(db,\"orders\");addDoc(ordersCollection,order).then(function(_ref2){var id=_ref2.id;return Notiflix.Report.success('¡Orden enviada!',\"Su numero de orden es: \".concat(id),'Entendido!',{width:'360px',svgSize:'120px'});},setShowModal(false),clear());}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{className:\"bg-red-500 text-white active:bg-pink-600 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150\",type:\"button\",onClick:function onClick(){return cart.length>0?setShowModal(true):Notiflix.Report.failure('Ups!','El carro esta vacio!','Entendido!');},children:\"Enviar Orden\"}),showModal?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none \",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative my-6 mx-auto max-w-3xl w-96  \",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative p-4 w-full max-w-md h-full md:h-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative bg-white rounded-lg shadow dark:bg-gray-700\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setShowModal(false);},type:\"button\",className:\"absolute top-3 right-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-800 dark:hover:text-white\",\"data-modal-toggle\":\"authentication-modal-2\",children:/*#__PURE__*/_jsx(\"svg\",{\"aria-hidden\":\"true\",className:\"w-5 h-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\",clipRule:\"evenodd\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"py-6 px-6 lg:px-8\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"mb-4 text-xl font-medium text-gray-900 dark:text-white\",children:\"Ingresa tus datos!\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-6\",action:\"#\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"usuario\",className:\"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300\",children:\"Nombre y Apellido\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setName(e.target.value);},type:\"name\",name:\"name\",id:\"name\",className:\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white\",placeholder:\"German Soto\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"usuario\",className:\"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300\",children:\"Telefono\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setPhone(e.target.value);},type:\"tel\",name:\"phone\",id:\"phone\",pattern:\"[0-9]{8}\",className:\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white\",placeholder:\"1100002222\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"usuario\",className:\"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setMail(e.target.value);},type:\"email\",name:\"email\",id:\"email\",className:\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white\",placeholder:\"mail@gmail.com\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"usuario\",className:\"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300\",children:\"Verifique su mail\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setMailConfirmacion(e.target.value);},type:\"email\",name:\"email\",id:\"email\",className:\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white\",placeholder:\"Ingrese nuevamente su mail\",required:true})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-between\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-start\"})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full text-white \".concat(mail!==mailConfirmacion?\"invisible \":\"visible\",\"  bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800\"),children:\"Enviar!\"})]})]})]})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"opacity-25 fixed inset-0 z-40 bg-black\"})]}):null]});}","map":{"version":3,"names":["React","useContext","useState","Notiflix","getFirestore","collection","addDoc","CartContext","InputModal","cart","valorTotal","showModal","setShowModal","name","setName","phone","setPhone","mail","setMail","mailConfirmacion","setMailConfirmacion","clear","handleSubmit","event","preventDefault","date","Date","order","buyer","console","log","db","ordersCollection","then","id","Report","success","width","svgSize","length","failure","e","target","value"],"sources":["/home/german/Documentos/CODERHOUSE/React/preEntrega2Soto/src/Components/InputModal.js"],"sourcesContent":["\nimport React, { useContext } from \"react\";\nimport { useState } from 'react'\nimport Notiflix from 'notiflix'\nimport { getFirestore, collection, addDoc } from 'firebase/firestore'\nimport CartContext from \"../Context/CartContext\"\n\nexport default function InputModal({ cart, valorTotal }) {\n  const [showModal, setShowModal] = useState(false);\n  const [name, setName] = useState(\"\")\n  const [phone, setPhone] = useState(\"\")\n  const [mail, setMail] = useState(\"\")\n  const [mailConfirmacion, setMailConfirmacion] = useState(\"\")\n  const {clear} = useContext(CartContext)\n\n\n  function handleSubmit(event) {\n    event.preventDefault()\n    const date = new Date();\n    const order = {\n      buyer: {\n        \"nombre\": name,\n        \"telefono\": phone,\n        \"mail\": mail,\n      },\n      \"items\": cart,\n      \"Valor Total\": valorTotal,\n      \"Fecha\": date\n    }\n    console.log(order)\n    const db = getFirestore();\n\n\n    const ordersCollection = collection(db, \"orders\");\n      addDoc(ordersCollection, order).then(({ id }) =>\n        Notiflix.Report.success(\n          '¡Orden enviada!',\n          `Su numero de orden es: ${id}`,\n          'Entendido!',\n          {\n            width: '360px',\n            svgSize: '120px',\n          },\n        ),\n        setShowModal(false),\n        clear()\n      ) \n\n\n\n\n  }\n\n\n\n\n  return (\n    <>\n      <button\n        className=\"bg-red-500 text-white active:bg-pink-600 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150\"\n        type=\"button\"\n        onClick={() => cart.length > 0 ? setShowModal(true) : Notiflix.Report.failure(\n          'Ups!',\n          'El carro esta vacio!',\n          'Entendido!'\n        )}\n\n      >\n        Enviar Orden\n      </button>\n\n      {showModal ? (\n        <>\n          <div className=\"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none \">\n\n            <div className=\"relative my-6 mx-auto max-w-3xl w-96  \">\n              <div className=\"relative p-4 w-full max-w-md h-full md:h-auto\">\n                <div className=\"relative bg-white rounded-lg shadow dark:bg-gray-700\">\n                  <button onClick={() => setShowModal(false)} type=\"button\" className=\"absolute top-3 right-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-800 dark:hover:text-white\" data-modal-toggle=\"authentication-modal-2\">\n                    <svg aria-hidden=\"true\" className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path fillRule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clipRule=\"evenodd\"></path></svg>\n                  </button>\n                  <div className=\"py-6 px-6 lg:px-8\">\n                    <h3 className=\"mb-4 text-xl font-medium text-gray-900 dark:text-white\">Ingresa tus datos!</h3>\n                    <form onSubmit={handleSubmit} className=\"space-y-6\" action=\"#\">\n                      <div>\n                        <label htmlFor=\"usuario\" className=\"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300\">Nombre y Apellido</label>\n                        <input onChange={(e) => setName(e.target.value)} type=\"name\" name=\"name\" id=\"name\" className=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white\" placeholder=\"German Soto\" required></input>\n                      </div>\n                      <div>\n                        <label htmlFor=\"usuario\" className=\"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300\">Telefono</label>\n                        <input onChange={(e) => setPhone(e.target.value)} type=\"tel\" name=\"phone\" id=\"phone\" pattern=\"[0-9]{8}\" className=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white\" placeholder=\"1100002222\" required></input>\n                      </div>\n                      <div>\n                        <label htmlFor=\"usuario\" className=\"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300\">Email</label>\n                        <input onChange={(e) => setMail(e.target.value)} type=\"email\" name=\"email\" id=\"email\" className=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white\" placeholder=\"mail@gmail.com\" required></input>\n                      </div>\n                      <div>\n                        <label htmlFor=\"usuario\" className=\"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300\">Verifique su mail</label>\n                        <input onChange={(e) => setMailConfirmacion(e.target.value)} type=\"email\" name=\"email\" id=\"email\" className=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white\" placeholder=\"Ingrese nuevamente su mail\" required></input>\n                      </div>\n\n                      <div className=\"flex justify-between\">\n                        <div className=\"flex items-start\">\n\n                        </div>\n                      </div>\n                      <button type=\"submit\"  className={`w-full text-white ${mail !== mailConfirmacion ? \"invisible \" : \"visible\"}  bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800`}>Enviar!</button>\n\n                    </form>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"opacity-25 fixed inset-0 z-40 bg-black\"></div>\n        </>\n      ) : null}\n    </>\n  );\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
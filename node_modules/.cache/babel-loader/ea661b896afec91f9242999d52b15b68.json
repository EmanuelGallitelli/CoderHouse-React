{"ast":null,"code":"import _slicedToArray from\"/home/german/Documentos/CODERHOUSE/React/preEntrega2Soto/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{createContext}from'react';import{useState}from'react';import{jsxs as _jsxs}from\"react/jsx-runtime\";var CartContext=/*#__PURE__*/createContext();var CartProvider=function CartProvider(_ref){var children=_ref.children;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),cart=_useState2[0],setCart=_useState2[1];var carritoProv=cart;var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),cartUpdate=_useState4[0],setCartUpdate=_useState4[1];var addItem=function addItem(item,cantidad){var producto={\"id\":item.id,\"nombre\":item.nombre,\"valor\":item.valor,\"cantidad\":cantidad,\"stock\":item.stock};if(!isInCart(item.id)){carritoProv.push(producto);setCart(carritoProv);setCartUpdate(function(prev){return!prev;});}else if(isInCart){var posItem=carritoProv.findIndex(function(libro){return libro.id===item.id;});carritoProv[posItem].cantidad=cantidad;setCart(carritoProv);}};var removeItem=function removeItem(item){var newProducts=cart.filter(function(p){return p.id!==item.id;});setCart(newProducts);setCartUpdate(function(prev){return!prev;});};var clear=function clear(){setCart([]);setCartUpdate(function(prev){return!prev;});};var isInCart=function isInCart(id){return cart.some(function(el){return el.id===id;});};return/*#__PURE__*/_jsxs(CartContext.Provider,{value:{addItem:addItem,removeItem:removeItem,clear:clear,isInCart:isInCart,cart:cart,cartUpdate:cartUpdate},children:[children,\" \"]});};export{CartProvider};export default CartContext;","map":{"version":3,"names":["createContext","useState","CartContext","CartProvider","children","cart","setCart","carritoProv","cartUpdate","setCartUpdate","addItem","item","cantidad","producto","id","nombre","valor","stock","isInCart","push","prev","posItem","findIndex","libro","removeItem","newProducts","filter","p","clear","some","el"],"sources":["/home/german/Documentos/CODERHOUSE/React/preEntrega2Soto/src/Context/CartContext.js"],"sourcesContent":["import {createContext} from 'react'\nimport {useState} from 'react'\n\n\nconst CartContext = createContext(); \n\nconst CartProvider = ({children}) => {\n    const [cart, setCart] = useState([])\n    const carritoProv = cart\n  const [cartUpdate, setCartUpdate] = useState(true) \n    \n    const addItem = (item, cantidad) => {\n        const producto = {\n                \"id\": item.id,\n                \"nombre\": item.nombre,\n                \"valor\": item.valor,\n                \"cantidad\": cantidad,\n                \"stock\": item.stock\n            }\n        if (!isInCart(item.id)) {\n            \n            \n            \n            carritoProv.push(producto)\n            setCart(carritoProv)\n            setCartUpdate((prev) => !prev);\n            \n        } else if (isInCart) {\n            const posItem = carritoProv.findIndex(libro => libro.id === item.id)\n            carritoProv[posItem].cantidad = cantidad; \n            setCart(carritoProv)\n        }\n    }\n    \n    const removeItem = (item) => {\n        \n        const newProducts = cart.filter((p) => p.id !== item.id);\n\n        setCart(newProducts);\n\n        setCartUpdate((prev) => !prev)\n    }\n    \n    const clear = () => {\n        setCart([])\n        setCartUpdate((prev) => !prev)\n        \n    }\n    \n    const isInCart = (id) => {\n        return cart.some((el) => el.id === id)\n        \n    }\n    \n \n    \n    return <CartContext.Provider value={{addItem, removeItem, clear, isInCart, cart, cartUpdate }}>{children} </CartContext.Provider>\n}\n\nexport {CartProvider}\nexport default CartContext\n"],"mappings":"8IAAA,OAAQA,aAAR,KAA4B,OAA5B,CACA,OAAQC,QAAR,KAAuB,OAAvB,C,6CAGA,GAAMC,YAAW,cAAGF,aAAa,EAAjC,CAEA,GAAMG,aAAY,CAAG,QAAfA,aAAe,MAAgB,IAAdC,SAAc,MAAdA,QAAc,CACjC,cAAwBH,QAAQ,CAAC,EAAD,CAAhC,wCAAOI,IAAP,eAAaC,OAAb,eACA,GAAMC,YAAW,CAAGF,IAApB,CACF,eAAoCJ,QAAQ,CAAC,IAAD,CAA5C,yCAAOO,UAAP,eAAmBC,aAAnB,eAEE,GAAMC,QAAO,CAAG,QAAVA,QAAU,CAACC,IAAD,CAAOC,QAAP,CAAoB,CAChC,GAAMC,SAAQ,CAAG,CACT,KAAMF,IAAI,CAACG,EADF,CAET,SAAUH,IAAI,CAACI,MAFN,CAGT,QAASJ,IAAI,CAACK,KAHL,CAIT,WAAYJ,QAJH,CAKT,QAASD,IAAI,CAACM,KALL,CAAjB,CAOA,GAAI,CAACC,QAAQ,CAACP,IAAI,CAACG,EAAN,CAAb,CAAwB,CAIpBP,WAAW,CAACY,IAAZ,CAAiBN,QAAjB,EACAP,OAAO,CAACC,WAAD,CAAP,CACAE,aAAa,CAAC,SAACW,IAAD,QAAU,CAACA,IAAX,EAAD,CAAb,CAEH,CARD,IAQO,IAAIF,QAAJ,CAAc,CACjB,GAAMG,QAAO,CAAGd,WAAW,CAACe,SAAZ,CAAsB,SAAAC,KAAK,QAAIA,MAAK,CAACT,EAAN,GAAaH,IAAI,CAACG,EAAtB,EAA3B,CAAhB,CACAP,WAAW,CAACc,OAAD,CAAX,CAAqBT,QAArB,CAAgCA,QAAhC,CACAN,OAAO,CAACC,WAAD,CAAP,CACH,CACJ,CArBD,CAuBA,GAAMiB,WAAU,CAAG,QAAbA,WAAa,CAACb,IAAD,CAAU,CAEzB,GAAMc,YAAW,CAAGpB,IAAI,CAACqB,MAAL,CAAY,SAACC,CAAD,QAAOA,EAAC,CAACb,EAAF,GAASH,IAAI,CAACG,EAArB,EAAZ,CAApB,CAEAR,OAAO,CAACmB,WAAD,CAAP,CAEAhB,aAAa,CAAC,SAACW,IAAD,QAAU,CAACA,IAAX,EAAD,CAAb,CACH,CAPD,CASA,GAAMQ,MAAK,CAAG,QAARA,MAAQ,EAAM,CAChBtB,OAAO,CAAC,EAAD,CAAP,CACAG,aAAa,CAAC,SAACW,IAAD,QAAU,CAACA,IAAX,EAAD,CAAb,CAEH,CAJD,CAMA,GAAMF,SAAQ,CAAG,QAAXA,SAAW,CAACJ,EAAD,CAAQ,CACrB,MAAOT,KAAI,CAACwB,IAAL,CAAU,SAACC,EAAD,QAAQA,GAAE,CAAChB,EAAH,GAAUA,EAAlB,EAAV,CAAP,CAEH,CAHD,CAOA,mBAAO,MAAC,WAAD,CAAa,QAAb,EAAsB,KAAK,CAAE,CAACJ,OAAO,CAAPA,OAAD,CAAUc,UAAU,CAAVA,UAAV,CAAsBI,KAAK,CAALA,KAAtB,CAA6BV,QAAQ,CAARA,QAA7B,CAAuCb,IAAI,CAAJA,IAAvC,CAA6CG,UAAU,CAAVA,UAA7C,CAA7B,WAAyFJ,QAAzF,OAAP,CACH,CAnDD,CAqDA,OAAQD,YAAR,EACA,cAAeD,YAAf"},"metadata":{},"sourceType":"module"}
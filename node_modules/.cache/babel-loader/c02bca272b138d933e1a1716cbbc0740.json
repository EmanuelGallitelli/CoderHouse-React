{"ast":null,"code":"import _objectSpread from\"/home/german/Documentos/CODERHOUSE/React/preEntrega2Soto/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/german/Documentos/CODERHOUSE/React/preEntrega2Soto/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import Spinner from'./Spinner';import Item from\"./Item\";import{useParams}from\"react-router-dom\";import{getFirestore,collection,getDocs,query,where}from'firebase/firestore';import{jsx as _jsx}from\"react/jsx-runtime\";export default function ItemList(){var _useState=useState(/*#__PURE__*/_jsx(Spinner,{})),_useState2=_slicedToArray(_useState,2),cartas=_useState2[0],setCartas=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],isLoading=_useState4[1];var _useParams=useParams(),categoria=_useParams.categoria;useEffect(function(){var db=getFirestore();var docRef=categoria?query(collection(db,'items'),where(\"categoria\",\"==\",categoria)):collection(db,'items');getDocs(docRef).then(function(snapshot){setCartas(snapshot.docs.map(function(doc){return _objectSpread({id:doc.id},doc.data());}));isLoading(false);});},[categoria]);return/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap justify-start mt-20\",children:loading?cartas:cartas.map(function(el){return/*#__PURE__*/_jsx(Item,{nombre:el.nombre,calificacion:el.calificacion,autor:el.autor,img:el.img,categoria:el.categoria,reseña:el.reseña,id:el.id},el.id);})});}","map":{"version":3,"names":["useState","useEffect","Spinner","Item","useParams","getFirestore","collection","getDocs","query","where","ItemList","cartas","setCartas","loading","isLoading","categoria","db","docRef","then","snapshot","docs","map","doc","id","data","el","nombre","calificacion","autor","img","reseña"],"sources":["/home/german/Documentos/CODERHOUSE/React/preEntrega2Soto/src/Components/ItemList.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport Spinner from './Spinner'\nimport Item from \"./Item\";\nimport { useParams } from \"react-router-dom\";\n\nimport {getFirestore, collection, getDocs, query, where} from 'firebase/firestore'\n\n\n\nexport default function ItemList(){\n\n  const [cartas, setCartas] = useState(<Spinner/>);\n  const [loading, isLoading] = useState(true)\n  const {categoria} = useParams();\n  \n  useEffect(() => {\n    \nconst db = getFirestore()\nconst docRef = categoria ? query(collection(db, 'items'), where(\"categoria\", \"==\", categoria)) : collection(db, 'items'); \n\ngetDocs(docRef)\n  .then((snapshot) => {\n  setCartas(snapshot.docs.map((doc)=> ({id:doc.id, ...doc.data()})));\n        isLoading(false);\n  })\n  }, [categoria]);\n\n    return ( \n        <div className=\"flex flex-wrap justify-start mt-20\">\n          {loading ? cartas \n        : cartas\n        .map((el)=>(\n\n          <Item \n          key={el.id}\n          nombre={el.nombre}\n          calificacion={el.calificacion}\n          autor={el.autor}\n          img = {el.img}\n          categoria = {el.categoria}\n          reseña = {el.reseña}\n          id={el.id}\n\n          />\n        ))\n        }\n        </div>\n\n    );\n}\n"],"mappings":"2RAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,QAAP,KAAoB,WAApB,CACA,MAAOC,KAAP,KAAiB,QAAjB,CACA,OAASC,SAAT,KAA0B,kBAA1B,CAEA,OAAQC,YAAR,CAAsBC,UAAtB,CAAkCC,OAAlC,CAA2CC,KAA3C,CAAkDC,KAAlD,KAA8D,oBAA9D,C,2CAIA,cAAe,SAASC,SAAT,EAAmB,CAEhC,cAA4BV,QAAQ,cAAC,KAAC,OAAD,IAAD,CAApC,wCAAOW,MAAP,eAAeC,SAAf,eACA,eAA6BZ,QAAQ,CAAC,IAAD,CAArC,yCAAOa,OAAP,eAAgBC,SAAhB,eACA,eAAoBV,SAAS,EAA7B,CAAOW,SAAP,YAAOA,SAAP,CAEAd,SAAS,CAAC,UAAM,CAElB,GAAMe,GAAE,CAAGX,YAAY,EAAvB,CACA,GAAMY,OAAM,CAAGF,SAAS,CAAGP,KAAK,CAACF,UAAU,CAACU,EAAD,CAAK,OAAL,CAAX,CAA0BP,KAAK,CAAC,WAAD,CAAc,IAAd,CAAoBM,SAApB,CAA/B,CAAR,CAAyET,UAAU,CAACU,EAAD,CAAK,OAAL,CAA3G,CAEAT,OAAO,CAACU,MAAD,CAAP,CACGC,IADH,CACQ,SAACC,QAAD,CAAc,CACpBP,SAAS,CAACO,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,SAACC,GAAD,wBAAUC,EAAE,CAACD,GAAG,CAACC,EAAjB,EAAwBD,GAAG,CAACE,IAAJ,EAAxB,GAAlB,CAAD,CAAT,CACMV,SAAS,CAAC,KAAD,CAAT,CACL,CAJH,EAKG,CAVQ,CAUN,CAACC,SAAD,CAVM,CAAT,CAYE,mBACI,YAAK,SAAS,CAAC,oCAAf,UACGF,OAAO,CAAGF,MAAH,CACRA,MAAM,CACPU,GADC,CACG,SAACI,EAAD,qBAEH,KAAC,IAAD,EAEA,MAAM,CAAEA,EAAE,CAACC,MAFX,CAGA,YAAY,CAAED,EAAE,CAACE,YAHjB,CAIA,KAAK,CAAEF,EAAE,CAACG,KAJV,CAKA,GAAG,CAAIH,EAAE,CAACI,GALV,CAMA,SAAS,CAAIJ,EAAE,CAACV,SANhB,CAOA,MAAM,CAAIU,EAAE,CAACK,MAPb,CAQA,EAAE,CAAEL,EAAE,CAACF,EARP,EACKE,EAAE,CAACF,EADR,CAFG,EADH,CAFF,EADJ,CAsBH"},"metadata":{},"sourceType":"module"}